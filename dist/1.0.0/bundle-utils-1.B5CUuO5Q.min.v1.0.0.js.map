{"version":3,"file":"bundle-utils-1.B5CUuO5Q.min.js","sources":["../../src/js/bundle-utils-1.js"],"sourcesContent":["// Functions aggregated from various utility files\n\n// formatGold and formatGoldColored from dist/js/bundle-utils-1.min.js\n// Funci√≥n robusta para formatear cobre a oro/plata/cobre (soporta negativos y redondeo)\nfunction formatGold(value) {\n  const rounded = Math.round(value);\n  const isNegative = rounded < 0;\n  const absValue = Math.abs(rounded);\n\n  const gold = Math.floor(absValue / 10000);\n  const silver = Math.floor((absValue % 10000) / 100);\n  const copper = absValue % 100;\n\n  let parts = [];\n  if (gold > 0) {\n    parts.push(`${gold}g`);\n    parts.push(`${silver.toString().padStart(2, '0')}s`);\n    parts.push(`${copper.toString().padStart(2, '0')}c`);\n  } else if (silver > 0) {\n    parts.push(`${silver}s`);\n    parts.push(`${copper.toString().padStart(2, '0')}c`);\n  } else {\n    parts.push(`${copper}c`);\n  }\n\n  let result = parts.join(' ');\n  if (isNegative) result = '-' + result;\n  return result.trim();\n}\n\n// Devuelve la misma cantidad pero con etiquetas span de colores\nfunction formatGoldColored(value) {\n  const rounded = Math.round(value);\n  const isNegative = rounded < 0;\n  const absValue = Math.abs(rounded);\n\n  const gold = Math.floor(absValue / 10000);\n  const silver = Math.floor((absValue % 10000) / 100);\n  const copper = absValue % 100;\n\n  let result = '';\n  if (gold > 0) {\n    result += `<span class=\"gold\">${gold}<img src=\"img/Gold_coin.png\" alt=\"Gold\" width=\"12\"></span>` +\n              `<span class=\"silver\">${silver.toString().padStart(2, '0')}<img src=\"img/Silver_coin.png\" alt=\"Silver\" width=\"12\"></span>` +\n              `<span class=\"copper\">${copper.toString().padStart(2, '0')}<img src=\"img/Copper_coin.png\" alt=\"Copper\" width=\"12\"></span>`;\n  } else if (silver > 0) {\n    result += `<span class=\"silver\">${silver}<img src=\"img/Silver_coin.png\" alt=\"Silver\" width=\"12\"></span> ` +\n              `<span class=\"copper\">${copper.toString().padStart(2, '0')}<img src=\"img/Copper_coin.png\" alt=\"Copper\" width=\"12\"></span>`;\n  } else {\n    result += `<span class=\"copper\">${copper.toString().padStart(2, '0')}<img src=\"img/Copper_coin.png\" alt=\"Copper\" width=\"12\"></span>`;\n  }\n\n  if (isNegative) result = '-' + result.trim();\n  return result.trim();\n}\n\n// rarityClasses object and getRarityClass function from js/rarityUtils.js\nconst rarityClasses = {\n  Basic: 'rarity-basic',\n  Fine: 'rarity-fine',\n  Masterwork: 'rarity-masterwork',\n  Rare: 'rarity-rare',\n  Exotic: 'rarity-exotic',\n  Ascended: 'rarity-ascended',\n  Legendary: 'rarity-legendary'\n};\n\nfunction getRarityClass(rarity) {\n  return rarityClasses[rarity] || '';\n}\n\n// openSearchModal and closeSearchModal from js/modal-utils.js\n(function() {\n  window.openSearchModal = async function(\n    scriptUrl = `/dist/${window.__APP_VERSION__}/search-modal.min.js?v=${window.__APP_VERSION__}`\n  ) {\n    const modal = document.getElementById('search-modal');\n    if (!modal) return;\n    modal.style.display = 'block';\n    if (!window._searchLoaded && scriptUrl) {\n      try {\n        await import(scriptUrl);\n        window._searchLoaded = true;\n      } catch (e) {\n        console.error('Error loading search modal', e);\n      }\n    }\n  };\n\n  window.closeSearchModal = function() {\n    const modal = document.getElementById('search-modal');\n    if (!modal) return;\n    modal.style.display = 'none';\n  };\n})();\n\n// Expose globals\nwindow.formatGold = formatGold;\nwindow.formatGoldColored = formatGoldColored;\nwindow.getRarityClass = getRarityClass;\n\n// Export for Node.js usage if needed\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = { formatGold, formatGoldColored, getRarityClass, rarityClasses };\n}\n"],"names":["formatGold","value","rounded","Math","round","isNegative","absValue","abs","gold","floor","silver","copper","parts","push","toString","padStart","result","join","trim","formatGoldColored","rarityClasses","Basic","Fine","Masterwork","Rare","Exotic","Ascended","Legendary","getRarityClass","rarity","window","openSearchModal","async","scriptUrl","__APP_VERSION__","modal","document","getElementById","style","display","_searchLoaded","import","e","console","error","closeSearchModal","module","exports"],"mappings":"AAIA,SAASA,EAAWC,GAClB,MAAMC,EAAUC,KAAKC,MAAMH,GACrBI,EAAaH,EAAU,EACvBI,EAAWH,KAAKI,IAAIL,GAEpBM,EAAOL,KAAKM,MAAMH,EAAW,KAC7BI,EAASP,KAAKM,MAAOH,EAAW,IAAS,KACzCK,EAASL,EAAW,IAE1B,IAAIM,EAAQ,GACRJ,EAAO,GACTI,EAAMC,KAAK,GAAGL,MACdI,EAAMC,KAAK,GAAGH,EAAOI,WAAWC,SAAS,EAAG,SAC5CH,EAAMC,KAAK,GAAGF,EAAOG,WAAWC,SAAS,EAAG,UACnCL,EAAS,GAClBE,EAAMC,KAAK,GAAGH,MACdE,EAAMC,KAAK,GAAGF,EAAOG,WAAWC,SAAS,EAAG,UAE5CH,EAAMC,KAAK,GAAGF,MAGhB,IAAIK,EAASJ,EAAMK,KAAK,KAExB,OADIZ,IAAYW,EAAS,IAAMA,GACxBA,EAAOE,MAChB,CAGA,SAASC,EAAkBlB,GACzB,MAAMC,EAAUC,KAAKC,MAAMH,GACrBI,EAAaH,EAAU,EACvBI,EAAWH,KAAKI,IAAIL,GAEpBM,EAAOL,KAAKM,MAAMH,EAAW,KAC7BI,EAASP,KAAKM,MAAOH,EAAW,IAAS,KACzCK,EAASL,EAAW,IAE1B,IAAIU,EAAS,GAab,OAXEA,GADER,EAAO,EACC,sBAAsBA,mFACEE,EAAOI,WAAWC,SAAS,EAAG,0FAC9BJ,EAAOG,WAAWC,SAAS,EAAG,qEACvDL,EAAS,EACR,wBAAwBA,wFACAC,EAAOG,WAAWC,SAAS,EAAG,qEAEtD,wBAAwBJ,EAAOG,WAAWC,SAAS,EAAG,qEAG9DV,IAAYW,EAAS,IAAMA,EAAOE,QAC/BF,EAAOE,MAChB,CAGA,MAAME,EAAgB,CACpBC,MAAO,eACPC,KAAM,cACNC,WAAY,oBACZC,KAAM,cACNC,OAAQ,gBACRC,SAAU,kBACVC,UAAW,oBAGb,SAASC,EAAeC,GACtB,OAAOT,EAAcS,IAAW,EAClC,CAIEC,OAAOC,gBAAkBC,eACvBC,EAAY,SAASH,OAAOI,yCAAyCJ,OAAOI,mBAE5E,MAAMC,EAAQC,SAASC,eAAe,gBACtC,GAAKF,IACLA,EAAMG,MAAMC,QAAU,SACjBT,OAAOU,eAAiBP,GAC3B,UACQQ,OAAOR,GACbH,OAAOU,eAAgB,CACzB,CAAE,MAAOE,GACPC,QAAQC,MAAM,6BAA8BF,EAC9C,CAEJ,EAEAZ,OAAOe,iBAAmB,WACxB,MAAMV,EAAQC,SAASC,eAAe,gBACjCF,IACLA,EAAMG,MAAMC,QAAU,OACxB,EAIFT,OAAO9B,WAAaA,EACpB8B,OAAOX,kBAAoBA,EAC3BW,OAAOF,eAAiBA,EAGF,oBAAXkB,QAA0BA,OAAOC,UAC1CD,OAAOC,QAAU,CAAE/C,aAAYmB,oBAAmBS,iBAAgBR"}
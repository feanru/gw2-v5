import{f as t}from"./utils-CBTFjDPK.js";!function(){const e=new Map,n=new Map,o={19676:1e4},s=[19675,19925,20796,19665,19674,19626,19672,19673,19645,19650,19655,19639,19635,19621,20799],a=function(t){if(!t)return!1;const e=t.toLowerCase();return e.startsWith("don de ")||e.startsWith("don del ")||e.startsWith("don de la ")},i=function(t){return s.includes(t)},r=async function(n){if(e.has(n))return e.get(n);const o=sessionStorage.getItem("item:"+n);if(o){const t=JSON.parse(o);return e.set(n,t),t}const s=await t("https://api.guildwars2.com/v2/items/"+n);if(!s.ok)throw new Error("No se pudo obtener info de item "+n);const a=await s.json();e.set(n,a);try{sessionStorage.setItem("item:"+n,JSON.stringify(a))}catch(t){}return a},c=async function(e){if(void 0!==o[e]){const t=o[e];return{buys:{unit_price:t},sells:{unit_price:t}}}if(i(e))return null;if(n.has(e))return n.get(e);const s=sessionStorage.getItem("price:"+e);if(s){const t=JSON.parse(s);return n.set(e,t),t}const a=await t("https://api.guildwars2.com/v2/commerce/prices/"+e);if(!a.ok)return null;const r=await a.json();n.set(e,r);try{sessionStorage.setItem("price:"+e,JSON.stringify(r))}catch(t){}return r};"undefined"!=typeof window&&(window.DonesCore={fetchItemData:r,fetchPriceData:c,isGiftName:a,shouldSkipMarketCheck:i}),document.addEventListener("DOMContentLoaded",async function(){await import("./tabs.min.js");const t={};document.addEventListener("tabchange",e=>{var n;n=e.detail.tabId,localStorage.setItem("activeDonTab",n),!t[n]&&window.DonesPages&&(t[n]=!0,"tab-don-suerte"===n?window.DonesPages.loadSpecialDons():"tab-tributo-mistico"===n?window.DonesPages.loadTributo():"tab-tributo-draconico"===n?window.DonesPages.loadDraconicTribute():"dones-1ra-gen"===n&&window.DonesPages.loadDones1Gen())});const e=localStorage.getItem("activeDonTab"),n=e?document.querySelector(`.tab-button[data-tab="${e}"]`):document.querySelector(".tab-button[data-tab]");n&&n.click()})}();

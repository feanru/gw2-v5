function t(){const t=document.getElementById("btn-guardar-item");t&&t.addEventListener("click",e)}async function e(){if(!(window.Auth&&window.Auth.currentUser))return void(window.showAuthOptions?window.showAuthOptions():window.Auth&&window.Auth.requireAuth&&window.Auth.requireAuth());const t=new URLSearchParams(window.location.search).get("id"),e=document.querySelector(".item-name")?.textContent||"Ítem sin nombre";if(!t)return void window.StorageUtils?.showToast("No se pudo obtener el ítem actual","error");const o={id:parseInt(t,10),nombre:e};window.StorageUtils&&window.StorageUtils.saveFavorito&&await window.StorageUtils.saveFavorito(o),window.StorageUtils?.showToast("Ítem guardado en favoritos")}document.addEventListener("DOMContentLoaded",function(){t()}),"complete"!==document.readyState&&"interactive"!==document.readyState||setTimeout(t,1);
